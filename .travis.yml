language: cpp

sudo: false

install:
    - if [ "${TRAVIS_OS_NAME}" = "linux" ]; then
        wget --no-check-certificate http://www.cmake.org/files/v3.3/cmake-3.3.2-Linux-x86_64.tar.gz
        && tar -xzf cmake-3.3.2-Linux-x86_64.tar.gz
        && mkdir -p $HOME/cmake
        && cp -fR cmake-3.3.2-Linux-x86_64/* $HOME/cmake
        ;
      else
        brew update
        && brew unlink cmake
        ;
      fi

addons:
    apt:
        packages:
            - clang-3.7
            - gcc-5
            - g++-5
        sources:
            - ubuntu-toolchain-r-test
            - llvm-toolchain-precise

matrix:
    include:
        - env: CLANG_VERSION=3.7 CPP=14 LIBCXX=On CXX=clang-3.7
          os: linux

        - env: GCC_VERSION=5.0 CPP=14 LIBCXX=Off CXX=g++-5
          os: linux

script:
    - mkdir -p build
      && cd build
      && ls $HOME/cmake
      && ls $HOME/cmake/bin
      && $HOME/cmake/bin/cmake ..
      && make
